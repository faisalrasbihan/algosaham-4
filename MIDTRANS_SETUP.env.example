# ===========================================
# Midtrans Configuration for Subscription Payment
# ===========================================
# Add these environment variables to your .env.local file
# Get your keys from: https://dashboard.midtrans.com/

# Server Key (keep this secret, never expose to frontend)
# Used for API calls from your backend to Midtrans
MIDTRANS_SERVER_KEY=your_server_key_here

# Client Key (can be exposed to frontend)
# Used for Snap.js payment popup
NEXT_PUBLIC_MIDTRANS_CLIENT_KEY=your_client_key_here

# App URL for callbacks (optional, defaults to localhost:3000 in development)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Production mode flag (optional)
# Set to 'true' for production, 'false' for sandbox
# Defaults to checking NODE_ENV if not set
MIDTRANS_IS_PRODUCTION=false

# ===========================================
# How to get your Midtrans keys:
# ===========================================
# 1. Go to https://dashboard.midtrans.com/login
# 2. Create an account or login
# 3. For testing, use SANDBOX environment
# 4. Go to Settings > Access Keys
# 5. Copy the Server Key and Client Key
#
# Sandbox keys start with: SB-Mid-server-xxx (server) and SB-Mid-client-xxx (client)
# Production keys start with: Mid-server-xxx (server) and Mid-client-xxx (client)
# ===========================================

# ===========================================
# Webhook Configuration:
# ===========================================
# After setting up your environment, you need to configure the webhook URL in Midtrans Dashboard:
# 
# 1. Go to Settings > Configuration
# 2. Set the Payment Notification URL to:
#    - For local development: Use ngrok or similar to expose your local server
#      Example: https://your-ngrok-url.ngrok.io/api/subscriptions/webhook
#    - For production: https://your-domain.com/api/subscriptions/webhook
#
# 3. Make sure to enable the following notifications:
#    - HTTP(S) Notification
#    - Recurring/Subscribe notifications (if available)
# ===========================================
